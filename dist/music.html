<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Music | Mac Long</title><meta property="og:title" content="Music | Mac Long"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="description" content="Swift, TypeScript, React and TailwindCSS developer crafting clean code and efficient forward-thinking solutions"><meta property="og:description" content="Swift, TypeScript, React and TailwindCSS developer crafting clean code and efficient forward-thinking solutions"><meta property="og:image" content="/public/og.jpg"><meta name="author" content="Mac Long"><meta name="keywords" content="software engineer, swift developer, react developer, typescript, tailwindcss, frontend development, skateboarding, punk rock, web development, iOS development"><link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 16 16'><text x='0' y='14'>üë®‚Äçüíª</text></svg>"><script type="application/ld+json">
{"givenName":"Mac","sameAs":["https://github.com/maclong9","https://orcid.org/0009-0002-4180-3822"],"@context":"https://schema.org","jobTitle":"Software Engineer","email":"hello@maclong.uk","name":"Mac Long","familyName":"Long","url":"https://maclong.uk","@type":"Person","image":"https://avatars.githubusercontent.com/u/115668288?v=4"}
</script><script src="/public/js/theme.js"></script><script src="https://unpkg.com/@tailwindcss/browser@4"></script><script src="https://unpkg.com/lucide@latest"></script><meta name="generator" content="WebUI" /><link rel="preload" href="https://unpkg.com/@tailwindcss/browser@4" as="script"><link rel="preload" href="https://unpkg.com/lucide@latest" as="script"><link rel="dns-prefetch" href="//unpkg.com"><link rel="preload" href="/public/js/theme.js" as="script"><link rel="preload" href="/public/js/icons.js" as="script"><style type="text/tailwindcss">
    @custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

    /* Apple-style glassmorphism support */
    @supports (backdrop-filter: blur(20px)) or (-webkit-backdrop-filter: blur(20px)) {
        .backdrop-blur-sm {
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }
        .backdrop-blur-xl {
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
        }
        .backdrop-saturate-150 {
            backdrop-filter: saturate(1.5);
            -webkit-backdrop-filter: saturate(1.5);
        }
    }

    /* Smooth transitions for interactive elements */
    select, button, a {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Respect user's motion preferences */
    @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }

        .reveal-card {
            opacity: 1 !important;
            transform: none !important;
            transition: none !important;
        }

        .game-of-life-bg {
            display: none !important;
        }
    }

    /* Hero animations */
    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes avatarFadeIn {
        from {
            opacity: 0;
            transform: scale(0.8);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    
    /* Progressive Reveal for Cards */
    .reveal-card {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    
    .reveal-card.in-view {
        opacity: 1;
        transform: translateY(0);
    }
    
    .reveal-card:nth-child(1) { transition-delay: 0.1s; }
    .reveal-card:nth-child(2) { transition-delay: 0.2s; }
    .reveal-card:nth-child(3) { transition-delay: 0.3s; }
    .reveal-card:nth-child(4) { transition-delay: 0.4s; }
    .reveal-card:nth-child(5) { transition-delay: 0.5s; }
    .reveal-card:nth-child(6) { transition-delay: 0.6s; }
    
    /* Hero element animations */
    .hero-avatar {
        animation: avatarFadeIn 0.8s ease-out;
    }
    
    .hero-name {
        animation: slideUp 0.6s ease-out 0.1s both;
    }
    
    .hero-description {
        animation: slideUp 0.6s ease-out 0.3s both;
    }
    
    /* Typography enhancements for prose content */
    .prose {
        @apply text-zinc-700 dark:text-zinc-300 leading-relaxed;
    }

    /* Paragraph spacing */
    .prose p {
        @apply mb-6 leading-relaxed;
    }

    /* Headings */
    .prose h1 {
        @apply text-3xl font-bold text-zinc-900 dark:text-zinc-100 mt-12 mb-6 leading-tight;
    }
    
    .prose h2 {
        @apply text-2xl font-bold text-zinc-900 dark:text-zinc-100 mt-10 mb-4 leading-tight;
    }
    
    .prose h3 {
        @apply text-xl font-semibold text-zinc-900 dark:text-zinc-100 mt-8 mb-3 leading-snug;
    }
    
    .prose h4 {
        @apply text-lg font-semibold text-zinc-900 dark:text-zinc-100 mt-6 mb-2;
    }

    /* Lists */
    .prose ul {
        @apply mb-6 pl-6;
    }
    
    .prose ol {
        @apply mb-6 pl-6;
    }
    
    .prose li {
        @apply mb-2 leading-relaxed;
    }
    
    .prose ul > li {
        @apply relative;
    }
    
    .prose ul > li::before {
        content: "‚Ä¢";
        @apply absolute -left-4 text-teal-600 dark:text-teal-400 font-medium;
    }

    /* Links */
    .prose a {
        @apply text-teal-600 dark:text-teal-400 underline decoration-teal-600/30 underline-offset-2 transition-colors;
    }
    
    .prose a:hover {
        @apply text-teal-700 dark:text-teal-300 decoration-teal-600/60;
    }

    /* Blockquotes */
    .prose blockquote {
        @apply border-l-4 border-teal-500 pl-6 py-4 my-6 italic text-zinc-600 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-800/50 rounded-r;
    }
    
    .prose blockquote p {
        @apply mb-3 last:mb-0;
    }
    
    /* Blockquote attribution styling */
    .prose blockquote cite,
    .prose blockquote footer {
        @apply not-italic text-sm text-zinc-500 dark:text-zinc-500 mt-3 block;
    }
    
    .prose blockquote cite::before,
    .prose blockquote footer::before {
        content: "‚Äî ";
    }
    
    /* Attribution styling for marked elements */
    .prose blockquote p.attribution {
        @apply not-italic text-sm text-zinc-500 dark:text-zinc-500 mt-3;
    }

    /* Code block styling */
    .prose pre {
        @apply bg-zinc-900 dark:bg-zinc-800 text-zinc-100 text-xs p-4 rounded-lg my-6 overflow-x-auto;
        border: 1px solid theme(colors.zinc.700);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    }
    
    .prose code:not(pre code) {
        @apply bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 px-1.5 py-0.5 rounded text-sm font-mono;
    }

    /* Tables */
    .prose table {
        @apply w-full my-6 border-collapse;
    }
    
    .prose th {
        @apply bg-zinc-50 dark:bg-zinc-800 font-semibold text-left px-4 py-3 border-b border-zinc-200 dark:border-zinc-700;
    }
    
    .prose td {
        @apply px-4 py-3 border-b border-zinc-100 dark:border-zinc-800;
    }

    /* Horizontal rules */
    .prose hr {
        @apply my-8 border-t-2 border-zinc-200 dark:border-zinc-700;
    }

    /* Strong and emphasis */
    .prose strong {
        @apply font-semibold text-zinc-900 dark:text-zinc-100;
    }
    
    .prose em {
        @apply italic text-zinc-600 dark:text-zinc-400;
    }

    /* Accessibility: Hide animations on reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        .reveal-card,
        .hero-avatar,
        .hero-name, 
        .hero-description {
            animation: none !important;
            transition: none !important;
            opacity: 1 !important;
            transform: none !important;
        }
    }
</style></head><body class="bg-zinc-50 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 transition-colors duration-300 h-screen overflow-hidden"><div><style>
  @keyframes jellyIn {
    0% {
      opacity: 0;
      transform: scale(0.8) translateY(-10px);
    }
    50% {
      transform: scale(1.05) translateY(0);
    }
    70% {
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  #mobile-menu-overlay.active {
    display: block;
    animation: jellyIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
</style><div id="mobile-menu-container" data-mobile-menu-open="false"><div id="mobile-menu-overlay" class="fixed top-[90px] right-4 w-80 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-6rem)] overflow-y-auto bg-white/95 dark:bg-zinc-900/95 backdrop-blur-2xl backdrop-saturate-150 border border-white/50 dark:border-white/10 px-6 py-6 shadow-2xl rounded-2xl z-50 hidden" data-mobile-menu="closed"><div class="flex flex-col space-y-3"><div class="flex items-center justify-between mb-4"><span class="text-lg font-semibold text-zinc-900 dark:text-zinc-100">Navigation</span><button id="mobile-menu-close" class="p-1 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 cursor-pointer" aria-label="Close menu" onclick="closeSlideMenu('mobile-menu-container')"><i data-lucide="x" class="w-5 h-5"></i></button></div><a href="/posts" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="posts"><i data-lucide="file-text" class="w-5 h-5"></i><span>Posts</span></a><a href="/photos" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="photos"><i data-lucide="camera" class="w-5 h-5"></i><span>Photos</span></a><a href="/music" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="music"><i data-lucide="music" class="w-5 h-5"></i><span>Music</span></a><a href="/tools" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="tools"><i data-lucide="wrench" class="w-5 h-5"></i><span>Tools</span></a><a href="mailto:hello@maclong.uk" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="email"><i data-lucide="mail" class="w-5 h-5"></i><span>Email</span></a><a href="https://github.com/maclong9" class="flex items-center space-x-3 p-3 text-zinc-700 dark:text-zinc-200 hover:text-teal-600 dark:hover:text-teal-400 rounded-xl transition-all cursor-pointer" data-mobile-menu-link="github" target="_blank" rel="noreferrer"><i data-lucide="github" class="w-5 h-5"></i><span>GitHub</span></a><div class="border-t border-white/20 dark:border-zinc-700/50 pt-4 mt-2"><span class="text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3">Theme</span><div class="space-y-1"><button id="theme-system-mobile" class="w-full flex items-center space-x-3 px-3 py-2 rounded-xl text-sm transition-all cursor-pointer text-zinc-700 dark:text-zinc-200" data-theme-option="system" onclick="if (window.setTheme) window.setTheme('system'); window.closeSlideMenu('mobile-menu-container')"><div class="flex items-center space-x-3"><i data-lucide="monitor" class="w-4 h-4"></i><span>System</span></div></button><button id="theme-light-mobile" class="w-full flex items-center space-x-3 px-3 py-2 rounded-xl text-sm transition-all cursor-pointer text-zinc-700 dark:text-zinc-200" data-theme-option="light" onclick="if (window.setTheme) window.setTheme('light'); window.closeSlideMenu('mobile-menu-container')"><div class="flex items-center space-x-3"><i data-lucide="sun" class="w-4 h-4"></i><span>Light</span></div></button><button id="theme-dark-mobile" class="w-full flex items-center space-x-3 px-3 py-2 rounded-xl text-sm transition-all cursor-pointer text-zinc-700 dark:text-zinc-200" data-theme-option="dark" onclick="if (window.setTheme) window.setTheme('dark'); window.closeSlideMenu('mobile-menu-container')"><div class="flex items-center space-x-3"><i data-lucide="moon" class="w-4 h-4"></i><span>Dark</span></div></button></div></div></div></div></div></div><div class="h-screen flex flex-col"><div><header id="main-header" class="fixed top-4 left-1/2 -translate-x-1/2 max-w-5xl w-[calc(100%-2rem)] bg-white/60 dark:bg-zinc-900/60 backdrop-blur-2xl backdrop-saturate-200 border border-white/40 dark:border-zinc-700/40 rounded-2xl px-6 py-4 z-30 transition-all duration-300 ease-in-out shadow-lg shadow-zinc-900/5 dark:shadow-zinc-950/30"><div class="flex items-center justify-between"><div class="flex items-center justify-between w-full"><nav class="md:hidden flex items-center space-x-1 text-sm"><a href="/" class="text-zinc-600 dark:text-zinc-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors cursor-pointer">Mac Long</a><span class="text-zinc-400 dark:text-zinc-600">/</span><span class="text-zinc-900 dark:text-zinc-100 font-medium">Music</span></nav><nav class="hidden md:flex items-center space-x-1 text-sm"><a href="/" class="text-zinc-600 dark:text-zinc-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors cursor-pointer">Mac Long</a><span class="text-zinc-400 dark:text-zinc-600">/</span><span class="text-zinc-900 dark:text-zinc-100 font-medium">Music</span></nav><div class="flex items-center space-x-4"><div class="flex items-center space-x-1"><div class="md:hidden"><button id="mobile-menu-button" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Menu" onclick="toggleSlideMenu('mobile-menu-container')"><i data-lucide="chevron-left" class="w-5 h-5"></i></button></div><div class="hidden md:flex items-center space-x-2"><a href="/posts" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Posts"><i data-lucide="file-text" class="w-5 h-5"></i></a><a href="/photos" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Photos"><i data-lucide="camera" class="w-5 h-5"></i></a><a href="/music" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Music"><i data-lucide="music" class="w-5 h-5"></i></a><a href="/tools" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Tools"><i data-lucide="wrench" class="w-5 h-5"></i></a><div class="w-px h-6 bg-zinc-300/50 dark:bg-zinc-600/50"></div><a href="mailto:hello@maclong.uk" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Email"><i data-lucide="mail" class="w-5 h-5"></i></a><a href="https://github.com/maclong9" class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="View GitHub Profile" target="_blank" rel="noreferrer"><i data-lucide="github" class="w-5 h-5"></i></a><div class="relative theme-dropdown"><button class="p-2 text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors cursor-pointer" aria-label="Change theme" data-theme-toggle="true"><i data-lucide="sun" data-theme-icon="light" class="hidden"></i><i data-lucide="moon" data-theme-icon="dark" class="hidden"></i><i data-lucide="palette" data-theme-icon="system" class="w-5 h-5"></i></button><div class="absolute right-0 top-full mt-2 w-48 bg-white dark:bg-zinc-800 rounded-lg shadow-lg border border-zinc-200 dark:border-zinc-700 py-1 z-50 theme-dropdown-menu hidden"><button class="w-full px-4 py-2 text-left text-sm flex items-center space-x-3 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors cursor-pointer theme-option" data-theme-option="system"><i data-lucide="palette" class="w-5 h-5"></i><span>System</span></button><button class="w-full px-4 py-2 text-left text-sm flex items-center space-x-3 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors cursor-pointer theme-option" data-theme-option="light"><i data-lucide="sun" class="w-5 h-5"></i><span>Light</span></button><button class="w-full px-4 py-2 text-left text-sm flex items-center space-x-3 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors cursor-pointer theme-option" data-theme-option="dark"><i data-lucide="moon" class="w-5 h-5"></i><span>Dark</span></button></div><style>.theme-dropdown-menu {
    display: none;
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
    transition: opacity 0.15s ease-in, transform 0.15s ease-in;
}

.theme-dropdown-menu--open {
    display: block;
    opacity: 1;
    transform: translateY(0) scale(1);
    transition: opacity 0.2s ease-out, transform 0.2s ease-out;
}

.theme-option--active {
    background-color: rgb(240 253 250);
    color: rgb(15 118 110);
}

.dark .theme-option--active {
    background-color: rgb(19 78 74 / 0.5);
    color: rgb(94 234 212);
}

[data-theme-icon] {
    display: none;
}

[data-theme-icon="system"] {
    display: block;
}</style><script>// Theme dropdown functionality - colocated with ThemeDropdown component
(function() {
    let isDropdownOpen = false;

    function initThemeDropdown() {
        // Listen for dropdown toggle
        document.addEventListener('click', (e) => {
            const themeToggle = e.target.closest('[data-theme-toggle]');
            if (themeToggle) {
                e.preventDefault();
                toggleDropdown();
                return;
            }

            const themeOption = e.target.closest('[data-theme-option]');
            if (themeOption) {
                e.preventDefault();
                const theme = themeOption.dataset.themeOption;
                setTheme(theme);
                updateDropdownUI();
                closeDropdown();
                return;
            }

            // Close dropdown when clicking outside
            if (isDropdownOpen && !e.target.closest('.theme-dropdown')) {
                closeDropdown();
            }
        });

        // Update UI initially and when theme changes
        updateDropdownUI();
        
        // Listen for theme changes
        const observer = new MutationObserver(() => {
            updateDropdownUI();
        });
        
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['data-theme']
        });
    }

    function toggleDropdown() {
        if (isDropdownOpen) {
            closeDropdown();
        } else {
            openDropdown();
        }
    }

    function openDropdown() {
        isDropdownOpen = true;
        const dropdown = document.querySelector('.theme-dropdown-menu');
        if (dropdown) {
            dropdown.classList.remove('hidden');
            // Trigger reflow for animation
            dropdown.offsetHeight;
            dropdown.classList.add('theme-dropdown-menu--open');
        }
    }

    function closeDropdown() {
        isDropdownOpen = false;
        const dropdown = document.querySelector('.theme-dropdown-menu');
        if (dropdown) {
            dropdown.classList.remove('theme-dropdown-menu--open');
            setTimeout(() => {
                if (!isDropdownOpen) {
                    dropdown.classList.add('hidden');
                }
            }, 200); // Match transition duration
        }
    }

    function setTheme(theme) {
        localStorage.setItem('theme', theme);
        updateTheme();
    }

    function updateTheme() {
        const themePreference = localStorage.getItem('theme') || 'system';
        let actualTheme = 'light';

        if (themePreference === 'dark') {
            actualTheme = 'dark';
        } else if (themePreference === 'system') {
            actualTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        document.documentElement.setAttribute('data-theme', actualTheme);
    }

    function updateDropdownUI() {
        const savedTheme = localStorage.getItem('theme') || 'system';
        
        // Update theme toggle button icon
        const toggleIcons = document.querySelectorAll('[data-theme-icon]');
        toggleIcons.forEach(icon => {
            icon.style.display = 'none';
        });
        
        const activeIcon = document.querySelector(`[data-theme-icon="${savedTheme}"]`);
        if (activeIcon) {
            activeIcon.style.display = 'block';
        }

        // Update dropdown options
        const options = document.querySelectorAll('[data-theme-option]');
        options.forEach(option => {
            const isActive = option.dataset.themeOption === savedTheme;
            option.classList.toggle('theme-option--active', isActive);
        });
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initThemeDropdown);
    } else {
        initThemeDropdown();
    }
})();</script></div></div></div></div></div></div></header></div><div class="flex-1 flex pt-24 overflow-hidden"><div class="w-64 bg-white/60 dark:bg-zinc-900/60 backdrop-blur-xl backdrop-saturate-150 border border-zinc-200/50 dark:border-zinc-700/50 rounded-2xl shadow-xl overflow-y-auto hidden md:block ml-4 my-4 h-[calc(100vh-10rem)]"><div class="p-4 space-y-6"><div class="space-y-2"><span class="text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider px-3">Library</span><button onclick="switchView('songs')" class="flex items-center gap-3 px-3 py-2 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors cursor-pointer w-full text-left nav-link" data-view="songs"><i data-lucide="music" class="w-5 h-5"></i><span>Songs</span></button><button onclick="switchView('artists')" class="flex items-center gap-3 px-3 py-2 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors cursor-pointer w-full text-left nav-link" data-view="artists"><i data-lucide="user" class="w-5 h-5"></i><span>Artists</span></button><button onclick="switchView('albums')" class="flex items-center gap-3 px-3 py-2 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors cursor-pointer w-full text-left nav-link bg-zinc-100 dark:bg-zinc-800" data-view="albums"><i data-lucide="disc" class="w-5 h-5"></i><span>Albums</span></button></div></div></div><div id="main-content" class="flex-1 overflow-y-auto pb-32 md:pb-24"><div class="p-6 max-w-6xl mx-auto"><div id="view-albums" class="mb-8 music-view"><h2 class="text-2xl font-bold mb-4 text-zinc-900 dark:text-zinc-100">Albums</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><div class="bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl backdrop-saturate-150 rounded-lg p-4 border border-zinc-200 dark:border-zinc-700 hover:shadow-lg transition-all cursor-pointer" onclick="showAlbum('untitled')"><div class="aspect-square bg-gradient-to-br from-green-400 to-cyan-500 rounded-lg mb-3 flex items-center justify-center"><i data-lucide="disc" class="w-16 h-16 text-white/70"></i></div><div class="font-semibold text-zinc-900 dark:text-zinc-100 mb-1">Untitled</div><div class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist</div><div class="text-xs text-zinc-500 dark:text-zinc-500">3 songs</div></div></div></div><div id="view-album-untitled" class="mb-8 music-view hidden"><button onclick="switchView('albums')" class="inline-flex items-center gap-2 text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-colors mb-4"><i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Albums </button><div class="flex flex-col items-center gap-4 mb-6"><div class="w-48 h-48 bg-gradient-to-br from-green-400 to-cyan-500 rounded-lg flex items-center justify-center flex-shrink-0"><i data-lucide="disc" class="w-24 h-24 text-white/70"></i></div><div class="flex flex-col items-center text-center gap-1"><h2 class="text-2xl font-bold text-zinc-900 dark:text-zinc-100">Untitled</h2><p class="text-base text-zinc-600 dark:text-zinc-400">Unknown Artist</p><p class="text-sm text-zinc-500 dark:text-zinc-500">3 songs</p></div></div><h2 class="text-xl font-semibold mb-3 text-zinc-900 dark:text-zinc-100">Songs</h2><div class="space-y-2"><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">At Rest</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist</p></div><button onclick="addToQueue('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Deliberate Thought</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist</p></div><button onclick="addToQueue('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Floating Cities</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist</p></div><button onclick="addToQueue('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div></div></div><div id="view-songs" class="mb-8 music-view hidden"><h2 class="text-2xl font-bold mb-4 text-zinc-900 dark:text-zinc-100">Songs</h2><div class="space-y-2"><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">At Rest</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist ‚Ä¢ Untitled</p></div><button onclick="addToQueue('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Deliberate Thought</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist ‚Ä¢ Untitled</p></div><button onclick="addToQueue('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Floating Cities</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Unknown Artist ‚Ä¢ Untitled</p></div><button onclick="addToQueue('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div></div></div><div id="view-artists" class="mb-8 music-view hidden"><h2 class="text-2xl font-bold mb-4 text-zinc-900 dark:text-zinc-100">Artists</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"><div class="bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl backdrop-saturate-150 rounded-lg p-4 border border-zinc-200 dark:border-zinc-700 hover:shadow-lg transition-all cursor-pointer" onclick="showArtist('unknown-artist')"><div class="aspect-square bg-gradient-to-br from-purple-400 to-pink-500 rounded-full mb-3 flex items-center justify-center"><i data-lucide="user" class="w-16 h-16 text-white/70"></i></div><div class="text-center"><div class="font-semibold text-zinc-900 dark:text-zinc-100 mb-1">Unknown Artist</div><div class="text-sm text-zinc-600 dark:text-zinc-400">3 songs</div><div class="text-xs text-zinc-500 dark:text-zinc-500">1 album</div></div></div></div></div><div id="view-artist-unknown-artist" class="mb-8 music-view hidden"><button onclick="switchView('artists')" class="inline-flex items-center gap-2 text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-colors mb-4"><i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Artists </button><div class="flex flex-col items-center gap-4 mb-6"><div class="w-48 h-48 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0"><i data-lucide="user" class="w-24 h-24 text-white/70"></i></div><div class="flex flex-col items-center text-center gap-1"><h2 class="text-2xl font-bold text-zinc-900 dark:text-zinc-100">Unknown Artist</h2><p class="text-base text-zinc-600 dark:text-zinc-400">3 songs ‚Ä¢ 1 album</p></div></div><h2 class="text-xl font-semibold mb-3 text-zinc-900 dark:text-zinc-100">Albums</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"><div class="bg-white/80 dark:bg-zinc-800/80 backdrop-blur-xl backdrop-saturate-150 rounded-lg p-4 border border-zinc-200 dark:border-zinc-700 hover:shadow-lg transition-all cursor-pointer" onclick="showAlbum('untitled')"><div class="aspect-square bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg mb-3 flex items-center justify-center"><i data-lucide="disc" class="w-12 h-12 text-white/70"></i></div><div class="font-semibold text-zinc-900 dark:text-zinc-100 mb-1">Untitled</div><div class="text-sm text-zinc-600 dark:text-zinc-400">3 songs</div></div></div><h2 class="text-xl font-semibold mb-3 text-zinc-900 dark:text-zinc-100">All Songs</h2><div class="space-y-2"><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">At Rest</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Untitled</p></div><button onclick="addToQueue('/public/audio/at-rest.mp3', 'At Rest', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Deliberate Thought</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Untitled</p></div><button onclick="addToQueue('/public/audio/deliberate-thought.mp3', 'Deliberate Thought', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div><div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-white/80 dark:hover:bg-zinc-800/80 transition-all cursor-pointer group"><button onclick="playTrack('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist')" class="p-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors"><i data-lucide="play" class="w-4 h-4"></i></button><div class="flex-1"><p class="font-medium text-zinc-900 dark:text-zinc-100">Floating Cities</p><p class="text-sm text-zinc-600 dark:text-zinc-400">Untitled</p></div><button onclick="addToQueue('/public/audio/floating-cities.mp3', 'Floating Cities', 'Unknown Artist'); event.stopPropagation();" class="p-2 text-zinc-600 dark:text-zinc-400 hover:text-teal-500 dark:hover:text-teal-400 transition-colors opacity-0 group-hover:opacity-100"><i data-lucide="plus" class="w-4 h-4"></i></button></div></div></div></div></div><div id="queue-panel" class="w-80 bg-white/60 dark:bg-zinc-900/60 backdrop-blur-xl backdrop-saturate-150 border border-zinc-200/50 dark:border-zinc-700/50 rounded-2xl shadow-xl overflow-y-auto hidden lg:block p-4 mr-4 my-4 h-[calc(100vh-10rem)]"><span class="text-lg font-semibold mb-4 text-zinc-900 dark:text-zinc-100">Queue</span><div id="queue-list" class="space-y-2"><div class="text-center py-8 text-zinc-500 dark:text-zinc-400"><i data-lucide="list-music" class="w-12 h-12 mx-auto mb-2 opacity-50"></i><span class="text-sm">No tracks in queue</span></div></div></div></div><div class="md:hidden fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-zinc-900/95 backdrop-blur-xl backdrop-saturate-150 border-t border-zinc-200 dark:border-zinc-800 z-40 safe-area-inset-bottom"><div class="flex items-center justify-around px-2 py-2"><button onclick="switchView('artists')" class="flex flex-col items-center justify-center gap-1 p-2 px-6 flex-1 text-zinc-600 dark:text-zinc-400 transition-all cursor-pointer nav-link rounded-xl" data-view="artists"><i data-lucide="user" class="w-6 h-6"></i><span class="text-xs font-medium">Artists</span></button><button onclick="switchView('songs')" class="flex flex-col items-center justify-center gap-1 p-2 px-6 flex-1 text-zinc-600 dark:text-zinc-400 transition-all cursor-pointer nav-link rounded-xl" data-view="songs"><i data-lucide="music" class="w-6 h-6"></i><span class="text-xs font-medium">Songs</span></button><button onclick="switchView('albums')" class="flex flex-col items-center justify-center gap-1 p-2 px-6 flex-1 text-teal-500 dark:text-teal-400 bg-teal-500/10 dark:bg-teal-400/10 transition-all cursor-pointer nav-link active-tab rounded-xl" data-view="albums"><i data-lucide="disc" class="w-6 h-6"></i><span class="text-xs font-medium">Albums</span></button></div></div><style>
  #now-playing-bar {
    bottom: 4rem;
  }
  @media (min-width: 768px) {
    #now-playing-bar {
      bottom: 0;
    }
  }
</style><div id="now-playing-bar" class="fixed left-0 right-0 bg-white/95 dark:bg-zinc-900/95 backdrop-blur-xl backdrop-saturate-150 border-t border-zinc-200 dark:border-zinc-800 px-4 py-3 hidden z-50"><div class="max-w-7xl mx-auto flex flex-col gap-2"><div class="w-full"><input type="range" id="progress-bar" min="0" max="100" value="0" class="w-full" oninput="seekTrack(this.value)"></div><div class="flex flex-row items-center gap-3 md:gap-4"><div class="flex items-center gap-3 w-full md:flex-1"><div class="w-12 h-12 rounded-lg bg-gradient-to-br from-teal-400 to-blue-500 flex items-center justify-center flex-shrink-0"><i data-lucide="disc" class="w-5 h-5 text-white/70"></i></div><div class="flex-1 min-w-0 space-y-0.5"><span id="now-playing-title" class="font-medium text-zinc-900 dark:text-zinc-100 truncate text-sm md:text-base"></span><span id="now-playing-artist" class="text-xs md:text-sm text-zinc-600 dark:text-zinc-400 truncate"></span></div></div><div class="flex items-center gap-2 justify-center"><button class="p-2 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors" aria-label="Previous" onclick="previousTrack()"><i data-lucide="skip-back" class="w-4 h-4 md:w-5 md:h-5"></i></button><button onclick="togglePlayPause()" id="play-pause-btn" class="p-2 md:p-3 bg-teal-500 hover:bg-teal-600 text-white rounded-full transition-colors" aria-label="Play/Pause"><i data-lucide="play" id="play-pause-icon" class="w-5 h-5 md:w-6 md:h-6"></i></button><button class="p-2 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors" aria-label="Next" onclick="nextTrack()"><i data-lucide="skip-forward" class="w-4 h-4 md:w-5 md:h-5"></i></button><div class="md:hidden"><span id="current-time-mobile" class="text-xs text-zinc-600 dark:text-zinc-400">0:00</span></div></div><div class="items-center gap-3 hidden md:flex"><span id="current-time" class="text-sm text-zinc-600 dark:text-zinc-400 w-12">0:00</span><i data-lucide="volume-2" class="w-5 h-5 text-zinc-600 dark:text-zinc-400"></i></div></div></div></div></div><audio id="audio-player"></audio><script>
    let currentQueue = [];
    let currentTrackIndex = -1;
    let audioPlayer = null;

    document.addEventListener('DOMContentLoaded', function() {
      audioPlayer = document.getElementById('audio-player');

      audioPlayer.addEventListener('timeupdate', function() {
        const current = audioPlayer.currentTime;
        const duration = audioPlayer.duration || 0;
        const percent = duration > 0 ? (current / duration) * 100 : 0;

        const progressBar = document.getElementById('progress-bar');
        if (progressBar) progressBar.value = percent;

        const currentTime = document.getElementById('current-time');
        if (currentTime) currentTime.textContent = formatTime(current);

        const currentTimeMobile = document.getElementById('current-time-mobile');
        if (currentTimeMobile) currentTimeMobile.textContent = formatTime(current);
      });

      audioPlayer.addEventListener('ended', function() {
        nextTrack();
      });

      // Reinitialize Lucide icons after view switches
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    });

    // View switching functionality
    function switchView(viewName) {
      // Hide all views
      document.querySelectorAll('.music-view').forEach(view => {
        view.classList.add('hidden');
      });

      // Show selected view
      const targetView = document.getElementById('view-' + viewName);
      if (targetView) {
        targetView.classList.remove('hidden');
      }

      // Update active state in sidebar (desktop)
      document.querySelectorAll('.nav-link').forEach(link => {
        if (link.dataset.view === viewName) {
          // Desktop sidebar styling
          link.classList.add('bg-zinc-100', 'dark:bg-zinc-800');
          // Mobile tab bar styling - remove inactive colors, add active colors and background
          link.classList.remove('text-zinc-600', 'dark:text-zinc-400');
          link.classList.add('text-teal-500', 'dark:text-teal-400', 'bg-teal-500/10', 'dark:bg-teal-400/10');
        } else {
          // Desktop sidebar styling
          link.classList.remove('bg-zinc-100', 'dark:bg-zinc-800');
          // Mobile tab bar styling - add inactive colors, remove active colors and background
          link.classList.add('text-zinc-600', 'dark:text-zinc-400');
          link.classList.remove('text-teal-500', 'dark:text-teal-400', 'bg-teal-500/10', 'dark:bg-teal-400/10');
        }
      });

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    // Show album detail view
    function showAlbum(albumId) {
      // Hide all views
      document.querySelectorAll('.music-view').forEach(view => {
        view.classList.add('hidden');
      });

      // Show the specific album detail view
      const albumView = document.getElementById('view-album-' + albumId);
      if (albumView) {
        albumView.classList.remove('hidden');
      }

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    // Show artist detail view
    function showArtist(artistId) {
      // Hide all views
      document.querySelectorAll('.music-view').forEach(view => {
        view.classList.add('hidden');
      });

      // Show the specific artist detail view
      const artistView = document.getElementById('view-artist-' + artistId);
      if (artistView) {
        artistView.classList.remove('hidden');
      }

      // Reinitialize icons
      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    function playTrack(url, title, artist) {
      if (!audioPlayer) return;

      audioPlayer.src = url;
      const playPromise = audioPlayer.play();

      if (playPromise !== undefined) {
        playPromise.then(() => {
          document.getElementById('now-playing-title').textContent = title;
          document.getElementById('now-playing-artist').textContent = artist;
          document.getElementById('now-playing-bar').classList.remove('hidden');
          document.getElementById('play-pause-icon').setAttribute('data-lucide', 'pause');

          // Sync with mini player
          if (typeof updateMiniPlayer === 'function') {
            updateMiniPlayer(title, artist, true);
          }

          if (typeof lucide !== 'undefined') {
            lucide.createIcons();
          }
        }).catch(error => {
          console.error('Playback failed:', error);
        });
      }
    }

    function togglePlayPause() {
      if (!audioPlayer) return;

      if (audioPlayer.paused) {
        const playPromise = audioPlayer.play();
        if (playPromise !== undefined) {
          playPromise.then(() => {
            document.getElementById('play-pause-icon').setAttribute('data-lucide', 'pause');

            // Sync with mini player
            const title = document.getElementById('now-playing-title').textContent;
            const artist = document.getElementById('now-playing-artist').textContent;
            if (typeof updateMiniPlayer === 'function') {
              updateMiniPlayer(title, artist, true);
            }

            if (typeof lucide !== 'undefined') {
              lucide.createIcons();
            }
          }).catch(error => {
            console.error('Playback failed:', error);
          });
        }
      } else {
        audioPlayer.pause();
        document.getElementById('play-pause-icon').setAttribute('data-lucide', 'play');

        // Sync with mini player
        const title = document.getElementById('now-playing-title').textContent;
        const artist = document.getElementById('now-playing-artist').textContent;
        if (typeof updateMiniPlayer === 'function') {
          updateMiniPlayer(title, artist, false);
        }

        if (typeof lucide !== 'undefined') {
          lucide.createIcons();
        }
      }
    }

    function seekTrack(percent) {
      if (!audioPlayer) return;
      const duration = audioPlayer.duration || 0;
      audioPlayer.currentTime = (percent / 100) * duration;
    }

    function addToQueue(url, title, artist) {
      currentQueue.push({ url, title, artist });
      updateQueueDisplay();
    }

    function updateQueueDisplay() {
      const queueList = document.getElementById('queue-list');
      if (currentQueue.length === 0) {
        queueList.innerHTML = `
          <div class="text-center py-8 text-zinc-500 dark:text-zinc-400">
            <i data-lucide="list-music" class="w-12 h-12 mx-auto mb-2 opacity-50"></i>
            <p class="text-sm">No tracks in queue</p>
          </div>
        `;
      } else {
        queueList.innerHTML = currentQueue.map((track, index) => `
          <div class="flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors cursor-pointer" onclick="playFromQueue(${index})">
            <i data-lucide="music" class="w-4 h-4 text-zinc-600 dark:text-zinc-400"></i>
            <div class="flex-1">
              <p class="text-sm font-medium text-zinc-900 dark:text-zinc-100">${track.title}</p>
              <p class="text-xs text-zinc-600 dark:text-zinc-400">${track.artist}</p>
            </div>
            <button onclick="removeFromQueue(${index}); event.stopPropagation();" class="p-1 text-zinc-500 hover:text-red-500 dark:text-zinc-400 dark:hover:text-red-400 transition-colors">
              <i data-lucide="x" class="w-4 h-4"></i>
            </button>
          </div>
        `).join('');
      }

      if (typeof lucide !== 'undefined') {
        lucide.createIcons();
      }
    }

    function playFromQueue(index) {
      currentTrackIndex = index;
      const track = currentQueue[index];
      playTrack(track.url, track.title, track.artist);
    }

    function removeFromQueue(index) {
      currentQueue.splice(index, 1);
      updateQueueDisplay();
    }

    function nextTrack() {
      if (currentQueue.length === 0) return;
      currentTrackIndex = (currentTrackIndex + 1) % currentQueue.length;
      playFromQueue(currentTrackIndex);
    }

    function previousTrack() {
      if (currentQueue.length === 0) return;
      currentTrackIndex = (currentTrackIndex - 1 + currentQueue.length) % currentQueue.length;
      playFromQueue(currentTrackIndex);
    }

    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return mins + ':' + (secs < 10 ? '0' : '') + secs;
    }
  </script><footer class="bg-white/80 dark:bg-zinc-900/80 backdrop-blur-xl backdrop-saturate-150 border-t border-zinc-200/50 dark:border-zinc-700/50 px-4 py-8 space-y-4 flex flex-col items-center justify-center shadow-[0_-4px_16px_rgba(0,0,0,0.04)] dark:shadow-[0_-4px_16px_rgba(0,0,0,0.2)] mb-16 md:mb-0"><div class="flex flex-row items-center gap-3 flex-wrap justify-center"><a href="/photos" class="p-3 text-zinc-600 hover:text-teal-600 dark:text-zinc-400 dark:hover:text-teal-400 rounded-xl bg-zinc-100/50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 border border-zinc-200/50 dark:border-zinc-700/50 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg"><i data-lucide="image" class="w-5 h-5"></i></a><a href="/posts" class="p-3 text-zinc-600 hover:text-teal-600 dark:text-zinc-400 dark:hover:text-teal-400 rounded-xl bg-zinc-100/50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 border border-zinc-200/50 dark:border-zinc-700/50 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg"><i data-lucide="file-text" class="w-5 h-5"></i></a><a href="mailto:hello@maclong.uk" class="p-3 text-zinc-600 hover:text-teal-600 dark:text-zinc-400 dark:hover:text-teal-400 rounded-xl bg-zinc-100/50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 border border-zinc-200/50 dark:border-zinc-700/50 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg"><i data-lucide="mail" class="w-5 h-5"></i></a><a href="https://github.com/maclong9" class="p-3 text-zinc-600 hover:text-teal-600 dark:text-zinc-400 dark:hover:text-teal-400 rounded-xl bg-zinc-100/50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 border border-zinc-200/50 dark:border-zinc-700/50 transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg" target="_blank" rel="noreferrer"><i data-lucide="github" class="w-5 h-5"></i></a></div><div class="text-zinc-500 dark:text-zinc-400 text-sm font-medium"><span>¬© 2025 </span><a href="https://maclong.uk" class="hover:text-teal-600 dark:hover:text-teal-400 transition-colors duration-300 font-semibold">Mac Long</a><span>.</span></div></footer></body><script src="/public/js/icons.js"></script></html>